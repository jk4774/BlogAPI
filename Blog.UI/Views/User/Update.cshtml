@model Blog.API.Models.User;
@{
    ViewData["Title"] = "Update User";
}

<div class="normal-margin col-lg-12 text-center">
    <form>
        <input class="normal-margin form-control" id="oldpassword" placeholder="Old Password" type="password" />
        <input class="normal-margin form-control" id="newpassword" placeholder="New Password" type="password" />
        <input class="normal-margin btn btn-primary btn-lg" type="submit" id="changePassword" value="Change Password" />
    </form>
</div>

<script>
    $(function(){
        $('form').on('submit', function() {
            let oldPass = $('#oldpassword').val();
            let newPass = $('#newpassword').val();
            
            if (!oldPass || !newPass) {
                return alert('cannot be null');
            }
            alert(@Model.Id);
            $.ajax({
                url: '/user/update/' + @Model.Id;
                type: 'PUT',
                data: { oldPassword: oldPass, newPassword: newPass },
                success: function(data) {
                    alert('asdf');
                }
            });

        });
    });
</script>
